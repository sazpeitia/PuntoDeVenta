-- MySQL Script generated by MySQL Workbench
-- 09/08/19 11:32:34
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering


-- -----------------------------------------------------
-- Table PUNTOVENTA_COMMON_OBJECT
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS PUNTOVENTA_COMMON_OBJECT (
  ID_COMMON_OBJECT INT(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (ID_COMMON_OBJECT))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table puntoventa_producto
-- -----------------------------------------------------

ALTER TABLE PUNTOVENTA_PRODUCTO
  ADD ID_COMMON_OBJECT INT(11) NULL,
  ADD FECHA_CREACION DATETIME NULL DEFAULT NULL,
  ADD CONSTRAINT FK_COMMON_OBJECT_PRODUCTO
    FOREIGN KEY (ID_COMMON_OBJECT)
    REFERENCES PUNTOVENTA_COMMON_OBJECT (ID_COMMON_OBJECT)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION;


CREATE UNIQUE INDEX ID_COMMON_OBJECT_PRODUCTO_UNIQUE ON PUNTOVENTA_PRODUCTO (ID_COMMON_OBJECT ASC);


-- -----------------------------------------------------
-- Table PUNTOVENTA_IMAGEN
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS PUNTOVENTA_IMAGEN (
  ID_IMAGEN INT(11) NOT NULL AUTO_INCREMENT,
  PATH VARCHAR(200) NOT NULL,
  ID_COMMON_OBJECT INT(11) NOT NULL,
  PRIMARY KEY (ID_IMAGEN),
  CONSTRAINT ID_COMMON_OBJECT_FK
    FOREIGN KEY (ID_COMMON_OBJECT)
    REFERENCES PUNTOVENTA_COMMON_OBJECT (ID_COMMON_OBJECT)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX PATH_UNIQUE ON PUNTOVENTA_IMAGEN (PATH ASC);

CREATE INDEX ID_COMMON_OBJECT_FK_IDX ON PUNTOVENTA_IMAGEN (ID_COMMON_OBJECT ASC);

